# הקדמות — חלק ה-React

מטרה
----
קובץ זה מספק הקדמה מקוצרת וממוקדת לחלק ה-React של הפרויקט `frontEnd`. הוא מסביר את מטרת האפליקציה, מבנה הקוד, הקומפוננטות העיקריות, ה-hooks, שירותי ה-API וסיכומים של איך להריץ ולהרחיב את המערכת.

הפעלת הפיתוח (Quick start)
--------------------------
1. התקנת חבילות:

   ```bash
   npm install
   ```

2. הרצה במצב פיתוח (Vite):

   ```bash
   npm run dev
   ```

3. פתיחת הדפדפן: בדרך כלל Vite מדפיס כתובת מקומית כמו `http://localhost:5173`.

מטרת החלק ה-React
------------------
- ממשק משתמש קל למשיכה והרצת קרולרים (crawlers) והצגת תוצאות.
- מאפשר התחברות (login) וניהול בחירת אתרים להרצה.
- מבנה נקי המפריד בין קומפוננטות UI, hooks עסקי, ושירותי API.

מבנה הפרויקט (תקציר)
---------------------
- `src/main.tsx` — נקודת הכניסה של האפליקציה.
- `src/App.tsx` — רכיב שורש ומסלולים (אם יש).
- `src/pages/CrawlerPage.tsx` — דף מרכזי להצגת בקרולרים ותוצאות.
- `src/components/` — קומפוננטות UI קטנות שנועדו לשימוש חוזר:
  - `LoginForm.tsx` — טופס התחברות.
  - `WebsiteSelector.tsx` — בחירת אתר להרצה.
  - `DealsList.tsx` — הצגת רשימת תוצאות/דילים.
  - `ErrorMessage.tsx` — הצגת שגיאות.
- `src/hooks/useCrawler.ts` — hook מרכזי שמנהל מצב קרולר, קריאות ל-API, טעינה ושגיאות.
- `src/services/api.service.ts` — שכבת תקשורת עם ה-backend (fetch/axios), מייצרת פונקציות לשימוש יחידת הקוד.
- `src/types/index.ts` — טיפוסים/אינטרפייסים של TypeScript לפריטים המוחזרים מה-API.

סיכום הקומפוננטות העיקריות
---------------------------
- LoginForm
  - מטרת: קבלת שם משתמש/ססמה ושליחת בקשה ל-API לאימות.
  - הערות: צריך לטפל באימות שגיאות והצגת הודעה למשתמש (ErrorMessage).

- WebsiteSelector
  - מטרת: הצגת רשימת אתרים/אפשרויות שהמשתמש יכול לבחור מהם כדי להריץ קרולר.
  - הערות: יכול לקרוא ל-hook או לקבל props כדי לעדכן את המצב.

- DealsList
  - מטרת: הצגת תוצאות החיפוש/קרולר ברשימה ניתנת לגלילה.
  - הערות: לטפל במצבי ריק, טעינה ושגיאה.

- ErrorMessage
  - מטרת: קומפוננטה פשוטה לשימוש בכל מקום להצגת שגיאות.

Hooks ושירותי API
------------------
- `useCrawler` — אמור לנהל:
  - קריאות ל-API להפעלת קרולר והבאת תוצאות
  - מצב טעינה (loading), שגיאות (error) ונתונים (data)
  - ריענון תוצאות או עצירת בקשות במידת הצורך

- `api.service.ts` — שכבת הממשק ל-backend. לדוגמה:
  - `login(credentials)`
  - `startCrawler(siteId)`
  - `getResults(query?)`

טיפוסים (Types)
----------------
- שמרו על טיפוסים ברורים ב-`src/types/index.ts` עבור פריטים כמו Deal, User, CrawlerStatus.
- טיפוסים מקלים על בדיקות קומפוננטות והרכבת ה-hook.

הנחיות קידוד ומוסכמות
----------------------
- קומפוננטות פונקציונליות + hooks.
- הפרידו לוגיקת עסקית ל-hooks או לשירותי API — רכזו קריאות רשת מחוץ לקומפוננטות.
- טיפול במצבי טעינה ושגיאה באופן עקבי (UI אחיד לשגיאות ו-spinner לטעינה).
- השתמשו ב-TS להבטחת יציבות ממשק (interfaces/types).

הרחבות מומלצות ו-next steps
----------------------------
- הוספת טסטים יחידתיים ל-hooks ולקומפוננטות (Jest + React Testing Library).
- הוספת retry/backoff בקריאות רשת רגישות.
- לוגיקה לנהל session/token (אם יש אימות) — אחסון בטוח ב-HttpOnly cookie או ב-state מתאים.
- תיעוד קומפוננטות קטנות בעזרת Storybook (אופציונלי).

תקלות נפוצות ופתרון מהיר
------------------------
- ה-Dev server לא מתחיל: ודאו שה-Node ו-NPM מותקנים. הריצו `npm install` ואז `npm run dev`.
- בעיות CORS עם ה-backend: בדקו שה-backend מאפשר מקורות `http://localhost:5173` או השתמשו בפרוקסי ב-Vite.
- שגיאות טיפוס ב-TS: הריצו `npm run build` או `tsc --noEmit` כדי לראות איפה יש בעיות טיפוס.

מקום הקובץ ושם
----------------
קובץ זה נשמר ב: `frontEnd/REACT_INTRODUCTIONS.md`

אם תרצה, אני יכול:
- לתרגם את הקובץ לאנגלית.
- להוסיף דוגמאות קוד קצרות ל-hook ולשירות API.
- לייצר README מפורט ל-developer עם environment variables ודוגמאות בקשות ל-backend.

סוף
